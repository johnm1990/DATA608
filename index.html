<html>
<head><title>Data 608 Module 5 Assignment</title></head>
<body>
    <h2>Data 608 Module 5 Assignment</h2>
    <h3>John Mazon<br>October 31, 2021</h3>
    
    
    
    <form onkeypress="return event.keyCode != 13;">
        <br>
        write a function that will return that
presidentâ€™s height & weight when you type it in. This can be typed into either an input box or
an alert box, and then print the result in a box or on the webpage.
        </br>
        Enter Presidential info:
        <br>
        <input type="text" id="pres_input" autocomplete="off" oninput="presStats();"><br>
    </form>

    <div>
        <br>
        <div id="target3"></div>
        <br>
    </div>

    <div id="target4"></div>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.js"></script>

    <script type="text/javascript">
        
    

        var data_url = "https://raw.githubusercontent.com/charleyferrari/CUNY_DATA608/master/lecture5/js_examples/Hello%20World/data/presidents.csv";

        var pres_data = [];

        d3.csv(data_url, function(data) {
            pres_data = data;
            var rows = data.length;
            var cols = d3.keys(data[0]).length
            var col_names = d3.keys(data[0]);

            var out = "";
            for (var r = 0; r < rows; r++) {
                if (r == 0) {
                    out += "<table>";
                    out += "<tr>";
                    for (var i = 0; i < cols; i++) {
                        out += "<th>" + col_names[i] + "</th>"
                    }
                    out += "</tr>";
                } else {
                    for (c = 0; c < cols; c++) {
                        if (c == 0) {
                            out += "<tr>";
                        }
                        out += "<td>" + data[r][col_names[c]] + "</td>";
                        if (c == cols - 1) {
                            out += "</tr>";
                        }
                    }
                    if (r == rows) {
                        out += "</table>";
                    }
                }
            };
            document.getElementById("target4").innerHTML = out;
        });

        function presStats () {
            var filt = [];
            var q = document.getElementById("pres_input").value.replace(/\./gi, "");
            console.log(q);
            var out = ""
;           for (i = 0; i < pres_data.length; i++) {
                if (pres_data[i].Name.toLowerCase().replace(/\./gi, "").search(q.toLowerCase()) > -1 && q.length > 0) {
                    console.log(q);
                    out += pres_data[i].Name +
                        "; Height: " + pres_data[i].Height +
                        "; Weight: " + pres_data[i].Weight + "<br>";
                }
                document.getElementById("target3").innerHTML = out;
            }
        };

    </script>
</body
</html>